<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="task">
	<resultMap id="TaskDTOResult" type="com.zhiqin.coach.admin.dto.TaskDTO">
		<id column="id" jdbcType="INTEGER" property="id" />
		<result column="url" jdbcType="VARCHAR" property="url" />
		<result column="description" jdbcType="VARCHAR" property="description" />
		<result column="createTime" jdbcType="TIMESTAMP" property="createTime" />
		<result column="status" jdbcType="INTEGER" property="status" />
		<result column="taskNum" jdbcType="INTEGER" property="taskNum" />
		<result column="sourceFrom" jdbcType="INTEGER" property="sourceFrom" />
	</resultMap>
	
	<select id="getTotalNum" parameterType="TaskDTO" resultType="Long">
		select count(*) from task  
	</select>

	<select id="getTaskList" parameterType="Map" resultMap="TaskDTOResult" >
		select * from task order by createTime desc
	</select>
	
	<insert id="insertCourse" useGeneratedKeys="true" keyProperty="courseId" parameterType="CourseDTO">
		INSERT INTO course(name, organizationId, address, description, type, groundId, groundName, startTime, endTime, recycleDay, courseHour, lessonHour, lessonNum, code, expiryDate, status, remarks, createTime) 
		VALUE (#{name}, #{orgId}, #{address}, #{description}, #{type}, #{groundId}, #{groundName}, #{startTime}, #{endTime}, #{recycleDay}, #{courseHour}, #{lessonHour}, #{lessonNum}, #{code}, #{expiryDate}, #{status}, #{remarks}, now()) 
  	</insert>
  	
</mapper>